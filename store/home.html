<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Top Up Store - OneDev Entertainment</title>

  <!-- SECURITY HEADERS -->
  <meta http-equiv="Content-Security-Policy"
content="
default-src 'self';
img-src 'self' data: https:;
style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
font-src https://cdnjs.cloudflare.com;
connect-src 'self';
frame-src https:;
object-src 'none';
base-uri 'self';
form-action 'self';
">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta name="referrer" content="no-referrer">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="../menu.css" />

  <style>
    /* Store UI */
    .store-header { text-align:center; padding:80px 20px 40px; }
    .store-header h1 { font-size:42px; font-weight:700; }
    .store-container { max-width:1150px; margin:auto; padding:20px; }
    .topup-box { background:#0f0f0f; padding:25px; border-radius:14px; margin-bottom:40px; border-left:4px solid #ff006a;}
    .input-group label { font-weight:600; margin-bottom:6px; display:block; }
    .input-group input { width:100%; padding:12px; border-radius:8px; border:2px solid #272727; background:#1a1a1a; color:#fff; }
    .nominal-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:20px; margin-top:20px; }
    .nominal-card { background:#141414; padding:15px; border-radius:12px; border:2px solid #292929; cursor:pointer; text-align:center; }
    .nominal-card.active, .nominal-card:hover { border-color:#ff006a; background:#1e1e1e; }
    .pay-btn { width:100%; padding:14px; background:#ff006a; border:0; border-radius:10px; color:#fff; font-size:20px; font-weight:700; }
  </style>
</head>

<body>

  <header class="nav">
    <div class="nav-inner">
      <div class="brand">
        <div class="logo">OD</div>
        <span class="brand-name">OneDev</span>
      </div>
      <nav class="menu" id="menu"></nav>
      <button id="burger" class="burger"><span></span><span></span><span></span></button>
    </div>
  </header>

  <div class="sidebar"><div class="sidebar-content"></div></div>
  <div class="sidebar-overlay"></div>

  <section class="store-header">
    <h1>Top Up Game Store</h1>
    <p>Pilih nominal dan lakukan pembayaran dengan aman.</p>
  </section>

  <div class="store-container">

    <!-- Step 1 -->
    <div class="topup-box">
      <h2>1. Masukkan Player ID</h2>
      <div class="input-group">
        <label>Player ID</label>
        <input id="uid" placeholder="Contoh: 12345678" />
      </div>
    </div>

    <!-- Step 2 -->
    <div class="topup-box">
      <h2>2. Pilih Nominal</h2>

      <div class="nominal-grid" id="nominalList">
        <div class="nominal-card" data-name="50 Diamonds" data-price="5000"><h4>50 Diamonds</h4><div>Rp 5.000</div></div>
        <div class="nominal-card" data-name="100 Diamonds" data-price="10000"><h4>100 Diamonds</h4><div>Rp 10.000</div></div>
        <div class="nominal-card" data-name="220 Diamonds" data-price="20000"><h4>220 Diamonds</h4><div>Rp 20.000</div></div>
        <div class="nominal-card" data-name="600 Diamonds" data-price="50000"><h4>600 Diamonds</h4><div>Rp 50.000</div></div>
      </div>
    </div>

    <button class="pay-btn" id="payNow">Bayar Sekarang</button>

  </div>

  <footer class="footer"><div class="footer-container">&copy; 2025 OneDev Entertainment.</div></footer>

  <script src="../security.min.js"></script>
  <script src="../menu.js"></script>

  <script>
// Pilih Nominal
let selectedNominal = null;
document.querySelectorAll(".nominal-card").forEach(card=>{
  card.onclick = () => {
    document.querySelectorAll(".nominal-card").forEach(c=>c.classList.remove("active"));
    card.classList.add("active");
    selectedNominal = {
      name: card.dataset.name,
      price: card.dataset.price
    };
  };
});

// Tombol Bayar
document.getElementById("payNow").addEventListener("click", () => {
  let uid = sanitizeInput(document.getElementById("uid").value);

  if (!uid) return alert("Masukkan Player ID!");
  if (!selectedNominal) return alert("Pilih nominal!");

  alert(
    "Top Up Detail:\nID: "+uid+"\nNominal: "+selectedNominal.name+
    "\nHarga: Rp "+selectedNominal.price+"\n\n(Payment belum diaktifkan)"
  );
});

// ==== SECURITY ====

// Sanitasi input
function sanitizeInput(v) {
  return v.replace(/[<>"'(){};]/g,"").trim();
}

// Anti Inspect Element
document.addEventListener("keydown", e=>{
  if (e.key === "F12" || (e.ctrlKey&&e.shiftKey&&(e.key==="I"||e.key==="J")) || (e.ctrlKey&&e.key==="U"))
  e.preventDefault();
});

// Anti Klik kanan
document.addEventListener("contextmenu", e=>e.preventDefault());

// Anti PrintScreen
document.addEventListener("keyup", e=>{
  if (e.key === "PrintScreen") {
    navigator.clipboard.writeText("");
    alert("Screenshot dinonaktifkan");
  }
});

// Blokir script asing runtime
const scObs = new MutationObserver(()=>{
  document.querySelectorAll("script").forEach(sc=>{
    if(sc.src && !sc.src.includes(location.hostname) && !sc.src.includes("cdnjs")){
      console.warn("Blocked:", sc.src);
      sc.remove();
    }
  });
});
scObs.observe(document.documentElement, {childList:true, subtree:true});
  </script>

  <div id="loading-screen"><div class="loader"></div></div>

</body>
</html>